#!/usr/bin/env bash

gsettings set org.gnome.desktop.interface color-scheme prefer-light
gsettings set org.gnome.desktop.interface gtk-theme 'Everforest-Light-Medium'
gsettings set org.gnome.desktop.interface font-name 'JetBrainsMono Nerd Font'

THEME="zenwritten"

for SOCKET in /run/user/1000/nvim.*; do
  nvim --server "$SOCKET" --remote-send ":set background=light<CR>"
  nvim --server "$SOCKET" --remote-send ":colorscheme $THEME<CR>"
done

kitty +kitten themes --reload-in=all zenwritten_light_lines
hyprctl hyprpaper reload "eDP-1, ~/.config/wallpaper/zenwritten_light_frame.jpg"
hyprctl hyprpaper reload "DP-1, ~/.config/wallpaper/zenwritten_light_frame.jpg"

hyprctl keyword general:col.active_border "rgba(5c5c5c55)"
hyprctl keyword general:col.inactive_border = "rgba(c6c3c3ee)"

# waybar
sed -i '0,/zenwritten_dark\.css/s//zenwritten_light.css/' "$HOME/.config/waybar/style.css"
pkill -SIGUSR2 waybar

# tmux
tmux source-file ~/.config/tmux/zenwritten_light.conf
tmux refresh-client -S

# mako
cat ~/.config/mako/light/config > ~/.config/mako/config
makoctl reload
notify-send "Switched to light theme" "Zenwritten Light"

# zathura
cat ~/.config/zathura/zathurarc-light > ~/.config/zathura/zathurarc

# wofi
cat ~/.config/wofi/light/style.css > ~/.config/wofi/style.css

# hyprlock
sed -i 's/BBBBBB/EFEFEF/g' "$HOME/.config/hypr/hyprlock.conf"
sed -i 's/EFEFEF/BBBBBB/g' "$HOME/.config/hypr/loginhyprlock.conf"
sed -i 's/zenwritten_light/zenwritten_dark/g' "$HOME/.config/hypr/loginhyprlock.conf"

# btop
sed -i 's/^color_theme *= *.*/color_theme = "zenwritten_light"/' "$HOME/.config/btop/btop.conf"
